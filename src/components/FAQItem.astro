---
interface Props {
  question: string;
  index?: number;
  class?: string;
}

const { question, index, class: className = "" } = Astro.props;
---

<details
  class={`group border-b border-ink/20 open:border-olive/50 transition-colors duration-500 ${className}`}
>
  <summary
    class="flex cursor-pointer items-center justify-between gap-8 py-8 lg:py-10 select-none list-none"
  >
    <div class="flex items-center gap-6 md:gap-12 min-w-0 flex-1">
      {
        index !== undefined && (
          <span class="text-label text-olive shrink-0 w-8 md:w-12">
            0{index + 1}
          </span>
        )
      }
      <h3
        class="font-serif text-xl lg:text-2xl text-ink group-hover:text-olive transition-colors duration-300 pr-4 leading-[1.2]"
      >
        {question}
      </h3>
    </div>
    
    <div
      class="shrink-0 w-10 h-10 rounded-full border border-ink/20 flex items-center justify-center group-hover:bg-ink group-hover:border-ink text-taupe group-hover:text-alabaster transition-all duration-500 group-open:rotate-[135deg] group-open:bg-ink group-open:text-alabaster group-open:border-ink"
    >
      <svg
        class="w-4 h-4"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
        stroke-width="1.5"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M12 4.5v15m7.5-7.5h-15"></path>
      </svg>
    </div>
  </summary>
  
  <div
    class="pb-10 pl-[4.5rem] md:pl-24 text-body text-taupe max-w-3xl"
  >
    <slot />
  </div>
</details>

<style>
  summary::-webkit-details-marker {
    display: none;
  }
  summary::marker {
    display: none;
  }

  details[open] summary ~ * {
    animation: slide-fade 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }

  @keyframes slide-fade {
    0% {
      opacity: 0;
      transform: translateY(-10px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>
