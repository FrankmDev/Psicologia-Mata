---
import { mainServices } from '../../data/services';

const serviceImages = [
  'https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?auto=format&fit=crop&w=800&q=80',
  'https://images.unsplash.com/photo-1522071820081-009f0129c71c?auto=format&fit=crop&w=800&q=80',
  'https://images.unsplash.com/photo-1499209974431-9dddcece7f88?auto=format&fit=crop&w=800&q=80',
];
---

<section class="section bg-cream relative" id="servicios">
  <!-- Subtle background texture -->
  <div class="absolute inset-0 opacity-[0.03] pointer-events-none" style="background-image: radial-gradient(var(--color-ink) 1px, transparent 1px); background-size: 32px 32px;"></div>

  <div class="container-editorial relative z-10">
    
    <!-- Header elegante -->
    <div class="flex flex-col lg:flex-row lg:items-end justify-between gap-12 mb-20 lg:mb-32">
      <div data-reveal class="max-w-2xl">
        <div class="mb-8">
          <span class="label-section">Áreas de Especialidad</span>
        </div>
        <h2 class="title-section">
          Un enfoque <em>clínico y humano</em> para tu bienestar.
        </h2>
      </div>
      
      <div class="flex flex-col items-start lg:items-end gap-6" data-reveal data-reveal-delay="200">
        <p class="text-body-sm max-w-sm lg:text-right">
          Tratamientos basados en evidencia, adaptados a tu historia personal y momento vital.
        </p>
        <a href="/services" class="btn btn-outline">Ver todos los servicios</a>
      </div>
    </div>

    <!-- Grid Editorial Luxury -->
    <div class="grid lg:grid-cols-12 gap-y-24 gap-x-10">
      {mainServices.map((service, index) => (
        <a
          href="/services"
          class={`group block lg:col-span-4 ${index === 1 ? 'lg:mt-32' : index === 2 ? 'lg:mt-16' : ''}`}
          data-reveal
          data-reveal-delay={index * 200}
        >
          <article class="relative h-full flex flex-col">
            
            <!-- Número grande de fondo (decorativo) -->
            <span class="absolute -top-8 -left-4 font-serif text-[8rem] leading-none text-olive/[0.03] font-light select-none pointer-events-none transition-all duration-700 group-hover:text-olive/[0.06] group-hover:-translate-y-2">
              0{index + 1}
            </span>
            
            <!-- Imagen principal con efecto editorial -->
            <div class="relative mb-8 img-reveal-wrapper aspect-[4/5] overflow-hidden bg-cream">
              <img
                src={serviceImages[index]}
                alt={service.title}
                class="w-full h-full object-cover filter grayscale-[30%] sepia-[10%] group-hover:grayscale-0 group-hover:sepia-0 group-hover:scale-105 transition-all duration-1000 ease-out"
                width="400"
                height="500"
                loading={index === 0 ? "eager" : "lazy"}
              />
              <!-- Overlay sutil -->
              <div class="absolute inset-0 bg-ink/5 group-hover:bg-transparent transition-colors duration-700"></div>
              <!-- Esquina decorativa -->
              <div class="absolute top-0 left-0 w-16 h-16 border-t-2 border-l-2 border-olive/0 group-hover:border-olive/30 transition-all duration-500"></div>
              <div class="absolute bottom-0 right-0 w-16 h-16 border-b-2 border-r-2 border-olive/0 group-hover:border-olive/30 transition-all duration-500"></div>
            </div>

            <!-- Contenido con alineación editorial -->
            <div class="relative flex-1 flex flex-col pl-0">
              
              <!-- Header con línea decorativa -->
              <div class="flex items-baseline gap-4 mb-4">
                <span class="text-label text-olive">
                  0{index + 1}
                </span>
                <span class="flex-1 h-[1px] bg-border-delicate group-hover:bg-olive/30 transition-colors duration-500 origin-left group-hover:scale-x-100"></span>
              </div>
              
              <!-- Título -->
              <h3 class="font-serif text-2xl lg:text-[1.75rem] text-ink group-hover:text-olive transition-colors duration-500 leading-[1.15] mb-5">
                {service.title}
              </h3>
              
              <!-- Descripción -->
              <p class="text-body-sm text-taupe leading-relaxed mb-8 flex-1">
                {service.shortDescription}
              </p>
              
              <!-- Footer con duración y CTA -->
              <div class="flex items-center justify-between pt-6 border-t border-border-delicate group-hover:border-olive/20 transition-colors duration-500">
                <span class="text-label-sm text-taupe">
                  {service.duration}
                </span>
                
                <span class="flex items-center gap-3 text-ink group-hover:text-olive transition-colors duration-500">
                  <span class="text-label-xs">Ver servicio</span>
                  <span class="w-8 h-8 rounded-full border border-border-strong flex items-center justify-center group-hover:bg-ink group-hover:border-ink group-hover:text-alabaster group-hover:scale-110 transition-all duration-500">
                    <svg class="w-3 h-3 transform group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 19.5l15-15m0 0H8.25m11.25 0v11.25" />
                    </svg>
                  </span>
                </span>
              </div>
            </div>

          </article>
        </a>
      ))}
    </div>
    
  </div>
</section>
