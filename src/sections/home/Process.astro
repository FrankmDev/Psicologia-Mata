---
const steps = [
  {
    number: '01',
    title: 'Primera sesión',
    subtitle: 'Conocernos',
    description: 'Un espacio para compartir tu historia, preocupaciones y expectativas. Sin prisas, sin juicios.',
    icon: 'M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z',
  },
  {
    number: '02',
    title: 'Evaluación',
    subtitle: 'Entenderte',
    description: 'Definimos juntos los objetivos terapéuticos y trazamos un plan adaptado a ti.',
    icon: 'M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.667 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.667M5.25 4.5l-.1.667A2.25 2.25 0 005.25 6h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.667L9.75 4.5m0 0l.1-.667A2.25 2.25 0 0112 2.25c1.197 0 2.24.808 2.5 1.917l.1.667',
  },
  {
    number: '03',
    title: 'Intervención',
    subtitle: 'Trabajar',
    description: 'Sesiones prácticas con herramientas concretas. Cada encuentro es un paso adelante.',
    icon: 'M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z',
  },
  {
    number: '04',
    title: 'Seguimiento',
    subtitle: 'Crecer',
    description: 'Evaluamos tu progreso y ajustamos el camino. La terapia evoluciona contigo.',
    icon: 'M4.5 12.75l6 6 9-13.5',
  },
];
---

<section class="bg-bg-muted relative overflow-hidden" id="proceso">
  <div class="absolute inset-0 bg-gradient-to-b from-bg-base via-transparent to-bg-base pointer-events-none" aria-hidden="true"></div>
  
  <div class="container-elegant relative z-10 py-20 lg:py-28">
    <div class="grid lg:grid-cols-12 gap-10 lg:gap-16">
      
      <!-- Left column - Fixed header -->
      <div class="lg:col-span-4 opacity-0" data-animate>
        <span class="eyebrow mb-4">Proceso terapéutico</span>
        <h2 class="font-serif text-3xl lg:text-4xl text-text-primary leading-tight mb-5">
          Un camino hacia tu <span class="italic text-sage">bienestar</span>
        </h2>
        <p class="text-body mb-8 max-w-sm">
          Cada etapa está diseñada para acompañarte de forma progresiva y respetuosa con tu ritmo.
        </p>
        
        <div class="hidden lg:flex items-center gap-4 text-sm text-text-tertiary">
          <div class="flex items-center gap-2">
            <svg class="w-4 h-4 text-sage" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            <span>Sesiones de 50 min</span>
          </div>
        </div>
      </div>

      <!-- Right column - Steps -->
      <div class="lg:col-span-8">
        <div class="grid sm:grid-cols-2 gap-4">
          {steps.map((step, index) => (
            <div 
              class={`group relative bg-bg-surface rounded-2xl p-6 border border-border-light transition-all duration-500 hover:shadow-xl hover:shadow-sage/5 hover:-translate-y-1 hover:border-sage/20 opacity-0 ${index >= 2 ? 'sm:mt-6' : ''}`}
              data-animate 
              style={`animation-delay: ${index * 0.1}s`}
            >
              <!-- Number badge -->
              <div class="flex items-center justify-between mb-4">
                <span class="text-xs font-bold text-sage tracking-wider">{step.number}</span>
                <span class="text-[10px] text-text-tertiary uppercase tracking-wider">{step.subtitle}</span>
              </div>
              
              <!-- Icon -->
              <div class="w-12 h-12 rounded-xl bg-sage/10 flex items-center justify-center mb-4 group-hover:bg-sage transition-colors duration-300">
                <svg class="w-5 h-5 text-sage group-hover:text-white transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                  <path stroke-linecap="round" stroke-linejoin="round" d={step.icon} />
                </svg>
              </div>
              
              <!-- Content -->
              <h3 class="font-serif text-xl text-text-primary mb-2 group-hover:text-sage transition-colors">
                {step.title}
              </h3>
              <p class="text-body text-sm leading-relaxed">
                {step.description}
              </p>
              
              <!-- Corner accent -->
              <div class="absolute bottom-0 right-0 w-16 h-16 overflow-hidden rounded-br-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300" aria-hidden="true">
                <div class="absolute bottom-2 right-2 w-8 h-8 rounded-full bg-sage/10"></div>
              </div>
            </div>
          ))}
        </div>
        
        <!-- CTA -->
        <div class="mt-8 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 pt-6 border-t border-border-light opacity-0" data-animate style="animation-delay: 0.5s">
          <p class="text-sm text-text-secondary">¿Listo para empezar tu proceso?</p>
          <a href="/contact" class="btn btn-primary btn-sm">
            <span>Reservar primera sesión</span>
            <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17.25 8.75L21 12m0 0l-3.75 3.25M21 12H3" />
            </svg>
          </a>
        </div>
      </div>
    </div>
  </div>
</section>
