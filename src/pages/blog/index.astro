---
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
import PageHeader from '../../components/PageHeader.astro';
import { blogPostsList } from '../../data/blog';
---

<Layout 
  title="Blog de Psicología | María Ángeles Mata"
  description="Artículos sobre psicología, salud mental, terapia y crecimiento personal. Consejos prácticos de una psicóloga clínica con 15+ años de experiencia."
>
  <Header activePage="Blog" />
  
  <main id="main-content">
    <PageHeader
      label="Blog"
      title="Reflexiones sobre"
      highlight="bienestar"
      description="Artículos sobre psicología, salud mental y crecimiento personal escritos desde la experiencia clínica."
    />

    <section class="section bg-bg-muted">
      <div class="container-elegant">
        <div class="space-y-6">
          {blogPostsList.map((post, index) => (
            <article class="opacity-0" data-animate style={`animation-delay: ${index * 0.1}s`}>
              <a href={`/blog/${post.slug}`} class="group block bg-bg-surface rounded-2xl overflow-hidden border border-border-light transition-all duration-500 hover:shadow-card-hover hover:-translate-y-1">
                <div class="flex flex-col md:flex-row">
                  <div class="md:w-2/5 lg:w-1/3 relative overflow-hidden">
                    <div class="aspect-[16/10] md:aspect-auto md:h-full md:absolute md:inset-0">
                      <img 
                        src={post.image} 
                        alt={post.title}
                        class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"
                        width="400"
                        height="250"
                        loading={index === 0 ? "eager" : "lazy"}
                      />
                      <div class="absolute inset-0 bg-gradient-to-r from-transparent to-bg-surface/20 hidden md:block" aria-hidden="true"></div>
                    </div>
                  </div>
                  
                  <div class="flex-1 p-6 lg:p-8 flex flex-col justify-center">
                    <div class="flex items-center gap-3 mb-3">
                      <span class="px-3 py-1 bg-sage/10 text-sage text-xs font-medium tracking-wider uppercase rounded-full">
                        {post.category}
                      </span>
                      <span class="w-1 h-1 rounded-full bg-text-tertiary/40" aria-hidden="true"></span>
                      <span class="text-sm text-text-tertiary">{post.readTime}</span>
                    </div>
                    
                    <h2 class="font-serif text-xl lg:text-2xl text-text-primary mb-3 group-hover:text-sage transition-colors duration-300 leading-snug">
                      {post.title}
                    </h2>
                    
                    <p class="text-body line-clamp-2 mb-4 max-w-2xl">
                      {post.excerpt}
                    </p>
                    
                    <div class="flex items-center justify-between pt-4 border-t border-border-light">
                      <time class="text-sm text-text-tertiary" datetime={post.date}>{post.date}</time>
                      <div class="flex items-center gap-2 text-sm font-medium text-sage">
                        <span>Leer artículo</span>
                        <svg class="w-4 h-4 transition-transform duration-300 group-hover:translate-x-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17.25 8.75L21 12m0 0l-3.75 3.25M21 12H3" />
                        </svg>
                      </div>
                    </div>
                  </div>
                </div>
              </a>
            </article>
          ))}
        </div>
      </div>
    </section>
  </main>
  
  <Footer />
</Layout>
