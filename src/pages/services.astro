---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { allServices } from '../data/services';

const serviceImages: Record<string, string> = {
  individual: 'https://images.unsplash.com/photo-1573497620053-ea5300f94f21?auto=format&fit=crop&w=1200&q=80',
  pareja: 'https://images.unsplash.com/photo-1516589178581-6cd7833ae3b2?auto=format&fit=crop&w=1200&q=80',
  familiar: 'https://images.unsplash.com/photo-1511895426328-dc8714191300?auto=format&fit=crop&w=1200&q=80',
  evaluacion: 'https://images.unsplash.com/photo-1506126613408-eca07ce68773?auto=format&fit=crop&w=1200&q=80',
  cognitiva: 'https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?auto=format&fit=crop&w=1200&q=80',
};

const serviceContent: Record<string, {
  subtitle: string;
  quote: string;
  approach: string[];
}> = {
  individual: {
    subtitle: 'Un espacio solo para ti',
    quote: 'A veces necesitamos un lugar donde poder ser nosotros mismos sin filtros. Sin juicios, sin prisas, sin tener que cuidar lo que decimos. Aquí puedes traer todo lo que llevas dentro: lo que duele, lo que confunde, lo que te avergüenza.',
    approach: ['Escucha activa', 'Técnicas probadas', 'A tu ritmo']
  },
  pareja: {
    subtitle: 'Cuando el amor necesita ayuda',
    quote: 'No se trata de decidir quién tiene razón. Se trata de volver a entenderse, de recordar por qué eligieron estar juntos. A veces solo necesitamos alguien que nos ayude a escucharnos de verdad.',
    approach: ['Comunicación real', 'Sin señalar culpas', 'Reconectar']
  },
  familiar: {
    subtitle: 'La familia es un equipo',
    quote: 'Cuando uno sufre, todos sentimos el peso. Pero también funciona al revés: cuando uno mejora, todos respiramos mejor. Trabajamos juntos para que el hogar vuelva a ser un lugar de paz.',
    approach: ['Entenderse mejor', 'Límites sanos', 'Crecer juntos']
  },
  evaluacion: {
    subtitle: 'Entender qué pasa',
    quote: 'A veces notamos que algo no funciona igual, pero no sabemos exactamente qué es. Una evaluación exhaustiva nos da claridad: entender qué pasa es el primer paso para saber cómo actuar.',
    approach: ['Evaluación completa', 'Informe claro', 'Plan personalizado']
  },
  cognitiva: {
    subtitle: 'Mantener la mente activa',
    quote: 'La edad no tiene por qué significar abandono. Con ejercicios adaptados a cada persona, ayudamos a mantener la memoria, la atención y la orientación. Porque merecemos envejecer con dignidad.',
    approach: ['A domicilio', 'Ejercicios divertidos', 'Adaptado a ti']
  }
};

const faqs = [
  {
    question: '¿Cuánto dura una sesión?',
    answer: 'Depende del tipo de terapia. Las sesiones individuales duran 50 minutos, las de pareja 60 minutos, y las familiares 75 minutos. La primera consulta suele ser un poco más larga porque necesitamos conocernos y entender qué te trae aquí.',
  },
  {
    question: '¿Tengo que venir cada semana?',
    answer: 'Al principio suele ser mejor así, especialmente hasta que cogemos ritmo. Pero no es una regla rígida. Según vayas mejorando, podemos espaciar las sesiones. Lo importante es que tú decidas el ritmo que necesitas.',
  },
  {
    question: '¿Cómo sé qué tipo de terapia necesito?',
    answer: 'No te preocupes por eso ahora. En la primera consulta hablamos de tu situación y juntos decidimos qué enfoque tiene más sentido. Y si en algún momento no te sientes cómodo, podemos ajustar o parar. Sin compromiso.',
  },
  {
    question: '¿Qué técnicas usas?',
    answer: 'Trabajo principalmente con Terapia Cognitivo-Conductual (TCC) y terapias de tercera generación como ACT y mindfulness. Técnicas que la ciencia ha probado que funcionan, pero aplicadas con sensibilidad humana.',
  },
];
---

<Layout 
  title="Servicios de Psicología en Córdoba | María Ángeles Mata"
  description="Servicios profesionales de psicología en Córdoba: terapia individual, de pareja, familiar, evaluación neuropsicológica y estimulación cognitiva. Más de 15 años de experiencia."
>
  <Header activePage="Servicios" />
  
  <main id="main-content">
    
    <!-- Hero Editorial -->
    <section class="section bg-alabaster relative overflow-hidden" aria-labelledby="services-heading">
      <div class="bg-aurora"></div>
      
      <div class="container-editorial relative z-10">
        <div class="max-w-4xl" data-reveal>
          <span class="label-section mb-8">Servicios</span>
          <h1 id="services-heading" class="title-section mb-8">
            Cada persona necesita <em>algo diferente</em>
          </h1>
          <p class="text-lead text-taupe max-w-2xl mb-16">
            No hay fórmulas mágicas, pero sí un espacio donde puedas ser tú mismo. 
            Te cuento cómo trabajo en cada tipo de terapia.
          </p>
          
          <!-- Navegación tipo índice editorial -->
          <div class="flex flex-wrap gap-x-8 gap-y-4">
            {allServices.map((service) => (
              <a 
                href={`#${service.id}`}
                class="group flex items-baseline gap-3 text-ink hover:text-olive transition-colors duration-300"
              >
                <span class="text-label text-olive/50 group-hover:text-olive transition-colors">{service.number}</span>
                <span class="font-serif text-lg">{service.title}</span>
              </a>
            ))}
          </div>
        </div>
      </div>
    </section>

    <!-- Servicios - Layout Editorial Asimétrico -->
    {allServices.map((service, index) => {
      const content = serviceContent[service.id];
      const isEven = index % 2 === 1;
      
      return (
        <section 
          id={service.id}
          class={`section ${isEven ? 'bg-cream' : 'bg-alabaster'} relative overflow-hidden`}
          aria-labelledby={`service-${service.id}-heading`}
        >
          {/* Número decorativo de fondo */}
          <span class={`absolute ${isEven ? '-right-20' : '-left-20'} top-1/2 -translate-y-1/2 font-serif text-[20rem] text-olive/[0.02] leading-none select-none pointer-events-none hidden lg:block`}>
            {service.number}
          </span>
          
          <div class="container-editorial relative z-10">
            
            <div class={`grid lg:grid-cols-12 gap-8 lg:gap-16 items-center ${isEven ? '' : ''}`}>
              
              {/* Imagen - Estilo editorial con offset */}
              <div class={`lg:col-span-5 ${isEven ? 'lg:col-start-8' : 'lg:col-start-1'}`} data-reveal={isEven ? "left" : "right"}>
                <div class="relative group">
                  {/* Marco decorativo que se mueve en hover */}
                  <div class={`absolute -inset-4 border border-olive/20 transition-transform duration-700 ease-out ${isEven ? 'group-hover:translate-x-3' : 'group-hover:-translate-x-3'}`}></div>
                  
                  <div class={`relative img-reveal-wrapper aspect-[3/4] overflow-hidden transition-transform duration-700 ease-out ${isEven ? 'group-hover:translate-x-3' : 'group-hover:-translate-x-3'}`}>
                    <img 
                      src={serviceImages[service.id]} 
                      alt={service.title}
                      class="w-full h-full object-cover filter grayscale-[20%] sepia-[5%] group-hover:grayscale-0 group-hover:sepia-0 transition-all duration-700 group-hover:scale-105"
                      width="600"
                      height="800"
                      loading={index === 0 ? 'eager' : 'lazy'}
                    />
                    {/* Overlay degradado */}
                    <div class="absolute inset-0 bg-gradient-to-t from-ink/30 via-ink/5 to-transparent opacity-60 group-hover:opacity-40 transition-opacity duration-500"></div>
                    
                    {/* Número en la imagen */}
                    <span class="absolute top-6 left-6 text-label text-alabaster/90 mix-blend-difference">
                      {service.number}
                    </span>
                  </div>
                </div>
              </div>
              
              {/* Contenido - Con offset vertical */}
              <div class={`lg:col-span-6 ${isEven ? 'lg:col-start-1 lg:row-start-1' : 'lg:col-start-7'} lg:py-12`} data-reveal data-reveal-delay="100">
                
                {/* Header estilo editorial */}
                <div class="mb-10">
                  <div class="flex items-baseline gap-4 mb-6">
                    <span class="text-label text-olive">{service.number}</span>
                    <div class="flex-1 h-[1px] bg-border-delicate origin-left scale-x-0 animate-[scale-x_1s_ease-out_forwards]" style="animation-delay: 0.3s;"></div>
                  </div>
                  
                  <p class="text-label-sm text-olive mb-3">{content.subtitle}</p>
                  <h2 id={`service-${service.id}-heading`} class="title-section">
                    {service.title}
                  </h2>
                </div>
                
                {/* Quote en lugar de descripción */}
                <blockquote class="relative mb-10 pt-6">
                  <span class="absolute top-0 left-0 font-serif text-5xl text-olive/20 leading-none">"</span>
                  <p class="text-body text-charcoal leading-relaxed pl-6 pt-4 border-l-2 border-olive/30">
                    {content.quote}
                  </p>
                </blockquote>
                
                {/* Enfoques con estilo tags */}
                <div class="flex flex-wrap gap-3 mb-10">
                  {content.approach.map((item) => (
                    <span class="px-4 py-2 bg-cream border border-border-delicate text-label-xs text-ink">
                      {item}
                    </span>
                  ))}
                </div>
                
                {/* CTA */}
                <div class="flex items-center gap-6">
                  <a href="/contact" class="btn btn-sage">
                    <span>Hablamos</span>
                    <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.75L21 12m0 0l-3.75 3.25M21 12H3" />
                    </svg>
                  </a>
                  <span class="text-label-xs text-taupe">{service.duration}</span>
                </div>
                
              </div>
            </div>
            
          </div>
        </section>
      );
    })}

    <!-- Sección de Proceso - Estilo Process.astro -->
    <section class="section bg-charcoal text-alabaster relative overflow-hidden">
      <div class="absolute -top-1/2 -right-1/4 w-[80vw] h-[80vw] rounded-full bg-ink blur-[120px] opacity-50 pointer-events-none"></div>
      
      <div class="container-editorial relative z-10">
        
        <div class="max-w-3xl mx-auto text-center mb-16 lg:mb-24" data-reveal>
          <span class="label-section !text-terracotta-light mb-8">El Camino</span>
          <h2 class="title-section !text-alabaster">
            Así es como <em class="!text-terracotta-light">trabajamos</em>
          </h2>
        </div>
        
        <div class="border-t border-border-strong/30">
          {[
            { number: '01', title: 'Primera Sesión', subtitle: 'Conocernos', desc: 'Nos sentamos a hablar. Cuéntame qué te trae aquí, qué te preocupa, qué esperas. No necesitas tenerlo todo claro, solo la honestidad de empezar.' },
            { number: '02', title: 'Entender', subtitle: 'Escuchar', desc: 'Juntos tratamos de entender de dónde viene lo que sientes. No para culpar al pasado, sino para entender el presente y poder cambiar el futuro.' },
            { number: '03', title: 'Herramientas', subtitle: 'Acompañar', desc: 'Te doy técnicas y estrategias que funcionan. Pero no solo eso: practicamos juntos hasta que te sientas seguro usandolas solo.' },
            { number: '04', title: 'Crecer', subtitle: 'Seguir', desc: 'Cuando estés listo, espaciamos las sesiones. Mi objetivo es que no me necesites. Pero sabrás que aquí estoy si me necesitas de nuevo.' },
          ].map((step, index) => (
            <div 
              class="group flex flex-col md:flex-row items-start md:items-center py-10 md:py-14 border-b border-border-strong/30 hover:bg-ink/30 transition-colors duration-500" 
              data-reveal 
              data-reveal-delay={index * 100}
            >
              <div class="w-full md:w-1/4 mb-4 md:mb-0 md:pr-8 flex items-center gap-6">
                <span class="text-label-sm text-terracotta-light w-10">{step.number}</span>
                <span class="w-12 h-[1px] bg-terracotta-light/30 group-hover:bg-terracotta-light transition-colors duration-500"></span>
              </div>

              <div class="w-full md:w-1/3 mb-4 md:mb-0 md:pr-8">
                <p class="text-label-xs text-taupe-light uppercase tracking-[0.2em] mb-2">{step.subtitle}</p>
                <h3 class="font-serif text-2xl md:text-3xl text-alabaster group-hover:text-terracotta-light transition-colors duration-500">{step.title}</h3>
              </div>

              <div class="w-full md:w-5/12">
                <p class="text-body text-taupe-light">{step.desc}</p>
              </div>
            </div>
          ))}
        </div>
        
      </div>
    </section>

    <!-- FAQ - Estilo FAQ.astro -->
    <section class="section bg-cream relative">
      <div class="container-editorial">
        
        <div class="flex flex-col lg:flex-row lg:items-end justify-between gap-12 mb-16 lg:mb-24">
          <div data-reveal class="max-w-2xl">
            <div class="mb-8">
              <span class="label-section">Preguntas que sueles hacerme</span>
            </div>
            <h2 class="title-section">
              Quizás te lo estás <em class="text-olive italic">preguntando</em>
            </h2>
          </div>
          <div class="flex items-end lg:justify-end" data-reveal data-reveal-delay="100">
            <p class="text-body-sm max-w-sm lg:text-right border-l-2 lg:border-l-0 lg:border-r-2 border-olive pl-6 lg:pl-0 lg:pr-6">
              Si no encuentras tu respuesta aquí, escríbeme. Me encanta resolver dudas.
            </p>
          </div>
        </div>

        <div class="max-w-4xl mx-auto border-t border-ink/20">
          {faqs.map((faq, index) => (
            <div data-reveal data-reveal-delay={index * 100}>
              <details class="group border-b border-ink/20 open:border-olive/50 transition-colors duration-500">
                <summary class="flex cursor-pointer items-center justify-between gap-8 py-8 lg:py-10 select-none list-none">
                  <div class="flex items-center gap-6 md:gap-12 min-w-0 flex-1">
                    <span class="text-label text-olive font-semibold w-8 md:w-12 shrink-0">
                      0{index + 1}
                    </span>
                    <h3 class="font-serif text-xl lg:text-2xl text-ink group-hover:text-olive transition-colors duration-300 pr-4 leading-[1.2]">
                      {faq.question}
                    </h3>
                  </div>
                  
                  <div class="shrink-0 w-10 h-10 rounded-full border border-ink/20 flex items-center justify-center group-hover:bg-ink group-hover:border-ink text-taupe group-hover:text-alabaster transition-all duration-500 group-open:rotate-[135deg]">
                    <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15"></path>
                    </svg>
                  </div>
                </summary>
                
                <div class="pb-10 pl-[4.5rem] md:pl-24 text-body text-taupe max-w-3xl">
                  {faq.answer}
                </div>
              </details>
            </div>
          ))}
        </div>

        <div class="mt-24 pt-12 border-t border-border-delicate flex flex-col md:flex-row items-center justify-between gap-8 text-center md:text-left" data-reveal data-reveal-delay="300">
          <div>
            <p class="text-label-sm text-taupe mb-2">¿Te queda alguna duda?</p>
            <p class="font-serif text-xl text-ink">Escríbeme directamente</p>
          </div>
          <a href="/contact" class="btn btn-outline">
            Contactar
          </a>
        </div>
        
      </div>
    </section>

    <!-- CTA Final -->
    <section class="section bg-alabaster relative" aria-labelledby="final-cta-heading">
      <div class="container-editorial">
        <div class="max-w-4xl mx-auto text-center" data-reveal>
          
          <div class="mb-8 flex justify-center">
            <div class="inline-flex items-center gap-4">
              <span class="w-12 h-[1px] bg-olive/60"></span>
              <span class="text-label-sm text-olive">El primer paso</span>
              <span class="w-12 h-[1px] bg-olive/60"></span>
            </div>
          </div>
          
          <h2 id="final-cta-heading" class="title-section mb-8">
            ¿Te gustaría que <em>habláramos</em>?
          </h2>
          <p class="text-body text-taupe max-w-2xl mx-auto mb-12">
            La primera consulta es simplemente una conversación. Sin compromiso, sin presión. 
            Solo tú y yo, viendo si puedo ayudarte.
          </p>
          
          <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <a href="/contact" class="btn btn-sage !px-8">
              <span>Pedir cita</span>
              <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.75L21 12m0 0l-3.75 3.25M21 12H3" />
              </svg>
            </a>
            <a href="tel:+34661471971" class="btn btn-outline">
              <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z" />
              </svg>
              <span>Llamar</span>
            </a>
          </div>
        </div>
      </div>
    </section>

  </main>
  
  <Footer />
</Layout>
